{"version":3,"file":"display.min.js","sources":["../src/display.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Display the views limits for course modules.\n *\n * @module     availability_maxviews/display\n * @copyright  2024 Mohammad Farouk <phun.for.physics@gmail.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport $ from \"jquery\";\n// import ajax from \"core/ajax\";\n\nexport const init = (cmid, render) => {\n    // The following listener is needed for the Tiles course format, where sections are loaded on demand.\n    // $(document).ajaxComplete(function(event, xhr, settings) {\n    //     if (typeof (settings.data) !== 'undefined') {\n    //         var data = JSON.parse(settings.data);\n    //         if (data.length > 0 && typeof (data[0].methodname) !== 'undefined') {\n    //             if (data[0].methodname == 'format_tiles_get_single_section_page_html' // Tile load.\n    //                 || data[0].methodname == 'format_tiles_log_tile_click'\n    //                 ) { // Tile load, cached.\n    //                 $(document).ready(function() {\n    //                     var existed = $(\"#availability_maxviews_count_\" + cmid);\n    //                     if (!existed || !existed[0] || existed[0] == undefined) {\n    //                         var module = $(\"#module-\"+cmid+\" .description\");\n    //                         module.append(render);\n    //                     }\n    //                 });\n    //             }\n    //         }\n    //     }\n    // });\n    // For any other course format.\n    $(document).ready(function() {\n        setInterval(function() {\n            var existed = $(\"#availability_maxviews_count_\"+cmid);\n            if (!existed || !existed[0] || existed[0] == undefined) {\n                var module = $(\"#module-\"+cmid+\" .description\");\n                if (module !== null) {\n                    module.append(render);\n                }\n            }\n        }, 500);\n    });\n};\n"],"names":["cmid","render","document","ready","setInterval","existed","undefined","module","append"],"mappings":";;;;;;;wJAyBoB,CAACA,KAAMC,8BAqBrBC,UAAUC,OAAM,WACdC,aAAY,eACJC,SAAU,mBAAE,gCAAgCL,UAC3CK,UAAYA,QAAQ,IAAoBC,MAAdD,QAAQ,GAAiB,KAChDE,QAAS,mBAAE,WAAWP,KAAK,iBAChB,OAAXO,QACAA,OAAOC,OAAOP,WAGvB"}